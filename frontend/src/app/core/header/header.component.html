<header class="bg-white border-b shadow-sm sticky top-0 z-50">
  <nav
    class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center px-4 py-3 gap-3 sm:gap-4">
    <!-- Logo & Navigation -->
    <div class="flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-6 md:gap-8 w-full md:w-auto">
      <a routerLink="/"
        class="font-bold text-2xl sm:text-3xl no-underline px-2 py-1 border-2 border-[#BF4408] hover:scale-105 hover:shadow-md transition-all duration-300 rounded">
        ToTravel
      </a>

      <ul class="flex flex-col sm:flex-row gap-3 sm:gap-6 text-base sm:text-md font-medium text-gray-700">
        <li><a routerLink="/" class="hover:text-[#BF4408] py-1 sm:py-0">Home</a></li>
        <li><a routerLink="/places" class="hover:text-[#BF4408] py-1 sm:py-0">Tourist Places</a></li>
        <li><a routerLink="/saved-places" class="flex items-center gap-2 text-gray-700 hover:text-amber-600">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" />
            </svg>
            Saved Places
          </a></li>
      </ul>
    </div>

    <!-- Search & Auth -->
    <div class="flex flex-col sm:flex-row items-end sm:items-center gap-3 w-full md:w-auto">
      <form class="w-full sm:w-64 md:w-80 lg:w-96">
        <label for="default-search" class="sr-only">Search</label>
        <div
          class="flex rounded-xl overflow-hidden border-2 border-[#BF4408] focus-within:ring-1 focus-within:ring-[#BF4408]">
          <div class="relative flex-grow">
            <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
              <svg class="w-4 h-4 text-black opacity-70" aria-hidden="true" fill="none" viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
              </svg>
            </div>
            <input type="search" id="default-search" placeholder="Search places..."
              class="block w-full p-2 sm:p-3 ps-10 sm:ps-12 text-black/70 text-sm bg-white focus:outline-none">
          </div>
          <button type="submit"
            class="cursor-pointer px-3 sm:px-4 text-sm font-semibold text-white bg-[#BF4408] hover:bg-[#e04e0e] transition-colors">
            Search
          </button>
        </div>
      </form>

      <!-- Dropdown menu -->
      <div class="relative inline-block text-left ">
        <button (click)="toggleDropdown()"
          class="cursor-pointer flex items-center text-sm font-semibold text-gray-800 hover:text-[#BF4408] transition-colors duration-300 rounded-lg focus:outline-none">
          <img class="w-8 h-8 me-2 rounded-full border-2 border-[#BF4408]"
            [src]="userData?.avatar_url || defaultAvatar">
          {{ userData?.name || 'Guest' }}
          <svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 10 6">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m1 1 4 4 4-4" />
          </svg>
        </button>

        <div *ngIf="isDropdownOpen"
          class="absolute -right-15 z-10 mt-3 w-52 bg-white border-2 border-[#BF4408] rounded-xl shadow-md text-sm text-gray-800">
          <div class="px-4 py-3 border-b border-[#BF4408]/30">
            <div class="font-bold">{{ userData?.name }}</div>
            <div class="truncate text-gray-600 text-xs">{{ userData?.email }}</div>
          </div>
          <ul class="py-2">
            <li><a href="/profile" class="block px-4 py-2 hover:bg-[#BF4408]/10 transition-colors">Profile</a></li>
          </ul>
          <div class="py-2 border-t border-[#BF4408]/30">
            <button (click)="onLogout()"
              class="w-full text-left px-4 py-2 text-red-600 hover:bg-red-50 transition-colors cursor-pointer">Sign
              out</button>
          </div>
        </div>
      </div>

    </div>
  </nav>
</header>